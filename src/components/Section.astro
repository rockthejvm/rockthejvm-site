---
import type { GradientOption } from "@/components/GradientSelect.astro";
import GradientSelect from "@/components/GradientSelect.astro";
import H2 from "@/components/H2.astro";
import type { CollectionEntry } from "astro:content";

interface Props {
  additionalClasses?: string;
  color: CollectionEntry<"courseCategories">["data"]["color"];
  gradientFlipped?: boolean;
  gradientOption?: GradientOption;
  title?: string;
}

const {
  additionalClasses,
  color,
  gradientFlipped = false,
  gradientOption,
  title,
} = Astro.props;
---

<section class:list={["", additionalClasses]}>
  {
    title && (
      <header class="mx-auto" style={`background: ${color}`}>
        <H2 {color} class="mx-auto text-center">
          {title}
        </H2>
      </header>
    )
  }
  <div
    class="relative mx-auto w-full overflow-y-hidden overflow-x-visible px-2 sm:px-8"
  >
    {gradientOption && <GradientSelect {gradientOption} {gradientFlipped} />}
    <div class="z-10 mx-auto max-w-7xl">
      <slot />
    </div>
  </div>
</section>
