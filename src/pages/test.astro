---
import "@styles/base.css";
import Card from "./_Card.astro";

const cardData = [
  {
    title: "Galaxy Swirls",
    img: {
      src: "https://raw.githubusercontent.com/coding-in-public/tailwind-darkmode/main/src/assets/images/image-1.png",
      alt: "galaxy swirl",
    },
    description:
      "Galaxy swirls refer to the patterns of stars and gas within galaxies that appear as spiral arms. These arms are formed by the gravitational forces between stars and the rotation of the galaxy.",
    cta: "Let's Gooooooo!",
  },
  {
    title: "Rad Beaches",
    img: {
      src: "https://raw.githubusercontent.com/coding-in-public/tailwind-darkmode/main/src/assets/images/image-2.png",
      alt: "beach at sunset",
    },
    description:
      "Beaches at sunset offer a picturesque view of the sun setting over the ocean, with warm hues of orange, pink, and purple painting the sky. It's a serene and romantic experience.",
    cta: "Take me surfing!",
  },
  {
    title: "Killer Mountains",
    img: {
      src: "https://raw.githubusercontent.com/coding-in-public/tailwind-darkmode/main/src/assets/images/image-3.png",
      alt: "jagged mountains",
    },
    description:
      "Mountains are majestic landforms characterized by steep slopes and high elevations. They are often associated with natural beauty, adventure, and challenge, and are home to diverse ecosystems and unique cultures.",
    cta: "Pack My Bags",
  },
];
---

<html>
  <head>
    <script is:inline>
      const setDataTheme = () => {
        document.documentElement.setAttribute(
          "data-theme",
          localStorage.getItem("theme") === "system"
            ? window.matchMedia("(prefers-color-scheme: dark)").matches
              ? "dark"
              : "light"
            : localStorage.getItem("theme")
        );
      };
      const setThemeToggle = () => {
        document.getElementById("computer").style.display = "none";
        document.getElementById("sun").style.display = "none";
        document.getElementById("moon").style.display = "none";
        document.getElementById(
          localStorage.getItem("theme") === "system"
            ? "computer"
            : localStorage.getItem("theme") === "light"
              ? "sun"
              : "moon"
        ).style.display = "block";
      };

      localStorage.getItem("theme") || localStorage.setItem("theme", "system");
      setDataTheme();
      document.addEventListener("DOMContentLoaded", () => {
        setThemeToggle();
        document.getElementById("themeToggle").addEventListener("click", () => {
          localStorage.setItem(
            "theme",
            localStorage.getItem("theme") === "system"
              ? "light"
              : localStorage.getItem("theme") === "light"
                ? "dark"
                : "system"
          );
          setDataTheme();
          setThemeToggle();
        });
      });
    </script>
  </head>
  <body>
    <main>
      <header class="size-10 flex items-center">
        <button
          id="themeToggle"
          type="button"
          class="mx-1 size-8 rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
        >
          <svg
            id="computer"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6 hidden"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"
            ></path>
          </svg>
          <svg
            id="sun"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6 hidden"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
            ></path>
          </svg>
          <svg
            id="moon"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6 hidden"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
            ></path>
          </svg>
        </button>
      </header>
      <div
        class="bg-bkg text-content isolate overflow-hidden p-4 sm:p-8 grid place-items-center"
      >
        <div
          class="grid relative min-h-screen place-items-center place-content-center gap-16 before:absolute before:h-1/2 before:w-3/4 before:rounded-tr-full before:rounded-bl-full before:blur-3xl before:bg-accent-2 before:animate-spin-slower before:-z-10 after:absolute after:h-2/3 after:w-2/3 after:rounded-tr-full after:rounded-bl-full after:blur-3xl after:bg-accent-1/40 after:animate-spin-slow after:-z-10"
        >
          <h1 class="text-6xl font-bold">
            <span class="underline decoration-accent-1">Dark</span> or{" "}
            <span class="underline decoration-accent-1">Light</span>?
          </h1>
          <section
            class="container grid sm:grid-cols-2 md:grid-cols-3 gap-6 items-start"
            aria-label="card container"
          >
            {cardData.map((card) => <Card {...card} key={card.title} />)}
          </section>
        </div>
      </div>
    </main>
  </body>
</html>
